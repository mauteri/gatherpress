{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./images/gatherpress-icon.js","webpack:///./src/block-editor/blocks/datetime-panel/datetime-end/index.js","webpack:///./src/block-editor/blocks/datetime-panel/datetime-end/label.js","webpack:///./src/block-editor/blocks/datetime-panel/datetime-start/index.js","webpack:///./src/block-editor/blocks/datetime-panel/datetime-start/label.js","webpack:///./src/block-editor/blocks/datetime-panel/index.js","webpack:///./src/block-editor/blocks/index.js","webpack:///./src/block-editor/index.js","webpack:///./src/index.js","webpack:///external {\"this\":[\"wp\",\"apiFetch\"]}","webpack:///external {\"this\":[\"wp\",\"components\"]}","webpack:///external {\"this\":[\"wp\",\"compose\"]}","webpack:///external {\"this\":[\"wp\",\"date\"]}","webpack:///external {\"this\":[\"wp\",\"element\"]}"],"names":["gatherPressIcon","DateTimeEnd","withState","date","GatherPress","event_datetime","datetime_end","updateDateTimeEnd","getDateTimeEnd","setState","settings","__experimentalGetSettings","is12HourTime","test","formats","time","toLowerCase","replace","split","reverse","join","DateTimeEndLabel","dateI18n","DateTimeStart","datetime_start","updateDateTimeStart","getDateTimeStart","DateTimeStartLabel","__","wp","i18n","registerPlugin","plugins","PluginDocumentSettingPanel","editPost","dateTimeFormat","currentDateTime","moment","format","data","subscribe","saveDateTime","dateTimeStart","dateTimeEnd","add","isEventPostType","getPostType","select","getCurrentPostType","isSavingPost","isAutosavingPost","apiFetch","path","method","post_id","_wpnonce","nonce","then","res","enableSave","dispatch","meta","_non_existing_meta","DateAndTimeSettingPanel","isOpen","onToggle","render","icon","blocks","updateCategory"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","const gatherPressIcon = <svg id=\"Layer_1\" data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 147.1 147.1\">\n  <title>GatherPress</title>\n  <circle cx=\"73.5\" cy=\"73.5\" r=\"73.5\" fill=\"#23c3aa\"/>\n  <path d=\"M791.8,520.2l-23.5,15.1s26.8,20.9,18.5,43.6l-42.8,34.5c-27.4-2.7-60.5-30.4-60.5-71l41.7-35.8c5.8.7,16.5-3.5,23.6-3.4C772.1,503.6,779.1,505,791.8,520.2Z\" transform=\"translate(-683.3 -467.9)\" fill=\"#36a08b\"/>\n  <path d=\"M763.6,538.1H797a2.9,2.9,0,0,1,2.9,2.9h0a59.4,59.4,0,0,1-2.3,17.4,36.9,36.9,0,0,1-7.6,13.1Q777.8,585,759.1,585a42.4,42.4,0,0,1-31.3-13.2,45.4,45.4,0,0,1,51.5-73,49.1,49.1,0,0,1,12.3,8.9,6.1,6.1,0,0,1,0,8.7l-.4.4a6,6,0,0,1-8.5-.1q-9.5-9.7-22.2-9.7a31.2,31.2,0,0,0-23.2,9.5Q728,526,728,540T738.4,564q9.7,8.7,21.1,8.7a26.2,26.2,0,0,0,17.4-6.5q7.7-6.6,8.6-15.8H763.6a6.2,6.2,0,0,1-6.2-6.2h0A6.2,6.2,0,0,1,763.6,538.1Z\" transform=\"translate(-683.3 -467.9)\" fill=\"#fff\" stroke=\"#fff\" stroke-miterlimit=\"10\" stroke-width=\"6\"/>\n</svg>;\n\nexport default gatherPressIcon;\n\n","import { DateTimePicker } from '@wordpress/components';\nimport { __experimentalGetSettings } from '@wordpress/date';\nimport { withState } from '@wordpress/compose';\n\nexport const DateTimeEnd = withState( {\n\tdate: GatherPress.event_datetime.datetime_end,\n} )( ( { updateDateTimeEnd, getDateTimeEnd, setState } ) => {\n\n\tconst settings     = __experimentalGetSettings();\n\tconst is12HourTime = /a(?!\\\\)/i.test(\n\t\tsettings.formats.time\n\t\t\t.toLowerCase()\n\t\t\t.replace( /\\\\\\\\/g, '' )\n\t\t\t.split( '' ).reverse().join( '' )\n\t);\n\n\treturn (\n\t\t<DateTimePicker\n\t\t\tcurrentDate = { getDateTimeEnd() }\n\t\t\tonChange    = { ( date ) => updateDateTimeEnd( date, setState ) }\n\t\t\tis12Hour    = { is12HourTime }\n\t\t/>\n\t);\n} );\n","import { dateI18n, __experimentalGetSettings } from '@wordpress/date';\n\nexport function DateTimeEndLabel( { date } ) {\n\tconst settings = __experimentalGetSettings();\n\n\treturn dateI18n(\n\t\t`${ settings.formats.date } ${ settings.formats.time }`,\n\t\tdate\n\t);\n}\n","import { DateTimePicker } from '@wordpress/components';\nimport { __experimentalGetSettings } from '@wordpress/date';\nimport { withState } from '@wordpress/compose';\n\nexport const DateTimeStart = withState( {\n\tdate: GatherPress.event_datetime.datetime_start,\n} )( ( { updateDateTimeStart, getDateTimeStart, setState } ) => {\n\n\tconst settings     = __experimentalGetSettings();\n\tconst is12HourTime = /a(?!\\\\)/i.test(\n\t\tsettings.formats.time\n\t\t\t.toLowerCase()\n\t\t\t.replace( /\\\\\\\\/g, '' )\n\t\t\t.split( '' ).reverse().join( '' )\n\t);\n\n\treturn (\n\t\t<DateTimePicker\n\t\t\tcurrentDate = { getDateTimeStart() }\n\t\t\tonChange    = { ( date ) => updateDateTimeStart( date, setState ) }\n\t\t\tis12Hour    = { is12HourTime }\n\t\t/>\n\t);\n} );\n\n","import { dateI18n, __experimentalGetSettings } from '@wordpress/date';\n\nexport function DateTimeStartLabel( { date } ) {\n\tconst settings = __experimentalGetSettings();\n\n\treturn dateI18n(\n\t\t`${ settings.formats.date } ${ settings.formats.time }`,\n\t\tdate\n\t);\n}\n","const { __ }                         = wp.i18n;\nconst { registerPlugin }             = wp.plugins;\nconst { PluginDocumentSettingPanel } = wp.editPost;\n\nimport { Dropdown, Button, PanelRow } from '@wordpress/components';\nimport { DateTimeStart } from \"./datetime-start\";\nimport { DateTimeStartLabel } from \"./datetime-start/label\";\nimport { DateTimeEnd } from \"./datetime-end\";\nimport { DateTimeEndLabel } from \"./datetime-end/label\";\nimport apiFetch from '@wordpress/api-fetch';\n\nconst dateTimeFormat  = 'YYYY-MM-DThh:mm:ss';\nconst currentDateTime = moment().format( dateTimeFormat );\n\nwp.data.subscribe( saveDateTime );\n\nlet dateTimeStart = GatherPress.event_datetime.datetime_start;\nlet dateTimeEnd   = GatherPress.event_datetime.datetime_end;\n\ndateTimeStart = ( '' !== dateTimeStart ) ? moment( dateTimeStart ).format( dateTimeFormat ) : currentDateTime;\ndateTimeEnd = ( '' !== dateTimeEnd ) ? moment( dateTimeEnd ).format( dateTimeFormat ) : moment( currentDateTime ).add( 2, 'hours' ).format( dateTimeFormat );\n\nGatherPress.event_datetime.datetime_start = dateTimeStart;\nGatherPress.event_datetime.datetime_end   = dateTimeEnd;\n\n// Checks if the post type is for events.\nfunction isEventPostType() {\n\tconst getPostType = wp.data.select( 'core/editor' ).getCurrentPostType(); // Gets the current post type.\n\n\treturn ( getPostType === 'gp_event' );\n}\n\n// @todo maybe put this is a save_post hook.\n// https://www.ibenic.com/use-wordpress-hooks-package-javascript-apps/\n// Then move button enabler\nfunction saveDateTime() {\n\tlet isSavingPost     = wp.data.select( 'core/editor' ).isSavingPost(),\n\t\tisAutosavingPost = wp.data.select( 'core/editor' ).isAutosavingPost();\n\n\tif ( isSavingPost && ! isAutosavingPost ) {\n\t\tapiFetch(\n\t\t\t{\n\t\t\t\tpath: '/gatherpress/v1/event/datetime/',\n\t\t\t\tmethod: 'POST',\n\t\t\t\tdata: {\n\t\t\t\t\tpost_id: GatherPress.post_id,\n\t\t\t\t\tdatetime_start: moment(GatherPress.event_datetime.datetime_start).format('YYYY-MM-DD HH:mm:ss'),\n\t\t\t\t\tdatetime_end: moment(GatherPress.event_datetime.datetime_end).format('YYYY-MM-DD HH:mm:ss'),\n\t\t\t\t\t_wpnonce: GatherPress.nonce,\n\t\t\t\t},\n\t\t\t}\n\t\t).then((res) => {\n\t\t\t// Saved.\n\t\t});\n\t}\n}\n\n// @todo hack approach to enabling Save buttons after update\n// https://github.com/WordPress/gutenberg/issues/13774\nfunction enableSave() {\n\twp.data.dispatch( 'core/editor' ).editPost( { meta: { _non_existing_meta: true } } );\n}\n\nfunction updateDateTimeStart( date, setState ) {\n\tGatherPress.event_datetime.datetime_start = date;\n\tsetState( { date } );\n\tenableSave();\n}\n\nfunction getDateTimeStart() {\n\treturn GatherPress.event_datetime.datetime_start;\n}\n\nfunction updateDateTimeEnd( date, setState ) {\n\tGatherPress.event_datetime.datetime_end = date;\n\tsetState( { date } );\n\tenableSave();\n}\n\nfunction getDateTimeEnd() {\n\treturn GatherPress.event_datetime.datetime_end;\n}\n\nconst DateAndTimeSettingPanel = () =>\n\t( isEventPostType() && (\n\t\t<PluginDocumentSettingPanel\n\t\t\tname        = 'datetime'\n\t\t\ttitle       = { __( 'Date & Time', 'gatherpress' ) }\n\t\t\tinitialOpen = { true }\n\t\t\tclassName   = 'datetime'\n\t\t>\n\t\t\t<PanelRow>\n\t\t\t\t<span>\n\t\t\t\t\t{ __( 'Start', 'gatherpress' ) }\n\t\t\t\t</span>\n\t\t\t\t<Dropdown\n\t\t\t\t\tposition         = 'bottom left'\n\t\t\t\t\trenderToggle     = { ( { isOpen, onToggle } ) => (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick       = { onToggle }\n\t\t\t\t\t\t\taria-expanded = { isOpen }\n\t\t\t\t\t\t\tisLink\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<DateTimeStartLabel\n\t\t\t\t\t\t\t\tdate   = { getDateTimeStart() }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t) }\n\t\t\t\t\trenderContent    = { () => <DateTimeStart\n\t\t\t\t\t\tupdateDateTimeStart = { updateDateTimeStart }\n\t\t\t\t\t\tgetDateTimeStart = { getDateTimeStart }\n\t\t\t\t\t/> }\n\t\t\t\t/>\n\t\t\t</PanelRow>\n\t\t\t<PanelRow>\n\t\t\t\t<span>\n\t\t\t\t\t{ __( 'End', 'gatherpress' ) }\n\t\t\t\t</span>\n\t\t\t\t<Dropdown\n\t\t\t\t\tposition         = 'bottom left'\n\t\t\t\t\trenderToggle     = { ( { isOpen, onToggle } ) => (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick       = { onToggle }\n\t\t\t\t\t\t\taria-expanded = { isOpen }\n\t\t\t\t\t\t\tisLink\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<DateTimeEndLabel\n\t\t\t\t\t\t\t\tdate   = { getDateTimeEnd() }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t) }\n\t\t\t\t\trenderContent    = { () => <DateTimeEnd\n\t\t\t\t\t\tupdateDateTimeEnd = { updateDateTimeEnd }\n\t\t\t\t\t\tgetDateTimeEnd    = { getDateTimeEnd }\n\t\t\t\t\t/> }\n\t\t\t\t/>\n\t\t\t</PanelRow>\n\t\t</PluginDocumentSettingPanel>\n\t)\n);\n\nregisterPlugin( 'date-and-time-setting-panel', {\n\trender: DateAndTimeSettingPanel,\n\ticon: ''\n} );\n","/**\n * Internal dependencies\n */\n\n// @todo remove these.\n// import './event-times';\n// import './event-template';\n\nimport './datetime-panel';\n","\n/**\n * Internal dependencies\n */\nimport './blocks';\nimport './filters';\nimport './plugins';\n","/**\n * Internal dependencies\n */\nimport './block-editor';\n\n// svg code\nimport gatherPressIcon from './../images/gatherpress-icon';\n\n// alter the icon slot\nwp.blocks.updateCategory( 'gatherpress', {\n\ticon: gatherPressIcon\n} );\n","(function() { module.exports = this[\"wp\"][\"apiFetch\"]; }());","(function() { module.exports = this[\"wp\"][\"components\"]; }());","(function() { module.exports = this[\"wp\"][\"compose\"]; }());","(function() { module.exports = this[\"wp\"][\"date\"]; }());","(function() { module.exports = this[\"wp\"][\"element\"]; }());"],"sourceRoot":""}